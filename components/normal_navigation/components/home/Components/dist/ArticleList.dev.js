"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=ArticleList;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _apiArticles=_interopRequireDefault(require("../../../../../api/apiArticles"));var _useApiCallback=_interopRequireDefault(require("../../../../../customHooks/useApiCallback"));var _loading=_interopRequireDefault(require("../../../../general_components/loading"));var _messageBox=_interopRequireDefault(require("../../../../general_components/messageBox"));var _title=_interopRequireDefault(require("../../../../general_components/titles/title3"));var _Article=_interopRequireDefault(require("./Article"));var _jsxFileName="/home/pepe/Escritorio/beylapp/components/normal_navigation/components/home/Components/ArticleList.js";function ArticleList(){var getArticles=(0,_useApiCallback["default"])(_apiArticles["default"].getArticles,function(data){return setArticles([].concat((0,_toConsumableArray2["default"])(articles),(0,_toConsumableArray2["default"])(data.results)));});var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2["default"])(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=(0,_react.useState)(1),_useState4=(0,_slicedToArray2["default"])(_useState3,2),page=_useState4[0],setPage=_useState4[1];(0,_react.useEffect)(function(){getArticles.request(page,10);},[page]);if(getArticles.loading)return _react["default"].createElement(_loading["default"],{__source:{fileName:_jsxFileName,lineNumber:23,columnNumber:16}});return _react["default"].createElement(_react["default"].Fragment,null,_react["default"].createElement(_title["default"],{primary:true,__source:{fileName:_jsxFileName,lineNumber:28,columnNumber:13}},"Articulos"),articles!=[]?_react["default"].createElement(_reactNativeGestureHandler.FlatList,{data:articles,renderItem:function renderItem(_ref){var item=_ref.item;return _react["default"].createElement(_Article["default"],{obj:item,__source:{fileName:_jsxFileName,lineNumber:34,columnNumber:45}});},keyExtractor:function keyExtractor(item){return item.id;},showsVerticalScrollIndicator:false,style:{paddingBottom:30},onEndReached:function onEndReached(){if(getArticles.next!=null)setPage(page+1);},__source:{fileName:_jsxFileName,lineNumber:32,columnNumber:17}}):_react["default"].createElement(_messageBox["default"],{message:"No hay art√≠culos disponibles",__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:13}}));}