"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _react=require("react");var _storage=_interopRequireDefault(require("../auth/storage"));var _apiSettings=_interopRequireDefault(require("./apiSettings"));var _require=require("apisauce"),create=_require.create;var apiClient=create({baseURL:_apiSettings["default"].url+'/v1/'});apiClient.addAsyncRequestTransform(function _callee(request){var authToken;return _regenerator["default"].async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator["default"].awrap(_storage["default"].getUser());case 2:authToken=_context.sent;if(authToken){_context.next=5;break;}return _context.abrupt("return");case 5:request.headers["Authorization"]="Token "+authToken;case 6:case"end":return _context.stop();}}});});var _default=apiClient;exports["default"]=_default;